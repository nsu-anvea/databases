# 2.1. Подготовка ER-диаграмм 

Знакомство с  ER-моделированием предполагается путем подготовки диаграмм в нотации Чена:

1. **Тип Сущности** изображается прямоугольником с названием типа внутри.   
2. **Тип Связи** изображается ромбом с названием типа связи внутри. В большинстве случаев в названии связи участвует глагол.  
3. **Роли** в связи изображаются линиями (без стрелок и каких-либо декораций), соединяющими тип связи с типами сущностей.   
   **Кардинальность роли** (минимальное и максимальное количество участников данной роли в связи) обозначается возле линии, ближе к типу сущности.  
4. Если **название роли** не очевидно из типа сущности, то ее тоже обозначают названием возле линии.  
5. **Атрибуты** изображаются овалами или скругленными прямоугольниками с названием атрибута. Принадлежность атрибута тому или иному типу связи изображается линией  
   **Примечание**: в целях экономии места, одноименные атрибуты, характерные для разных типов сущностей, можно изображать в одном экземпляре, и связывать их с несколькими фигурами сущностей.  
6. **Ключевой атрибут** для каждой сущности изображается подчеркнутым текстом  
7. **Слабые сущности** (зависящие от других сущностей) изображаются прямоугольником с двойным (или утолщенным) контуром; владеющая связь также выделяется контуром.  
8. **Связь вида “is-a”**, или “**являться подтипом**” изображается равносторонним треугольником; базовый тип связывается с углом треугольника, подтип \- с серединой противоположной стороны.  
9. Помните о том, что в связи могут участвовать две *или более* ролей. В некоторых случаях у типа связи могут быть и свои атрибуты \- если атрибут относится не к какой-то из сущностей, участвующей в связи, а описывает свойства самой связи. Например: *Товар Входит* в *Заказ* в определённом *Количестве* и по определённой *Цене*.

# Задания

Подготовьте ER-диаграммы в нотации Чена для каждой из предметных областей.

1. ### Больница (1 балл)

Информационная система больницы (стационара) содержит информацию о врачах больницы и о пациентах. Запись о каждом враче содержит: 

- ФИО  
- адрес  
- дату рождения  
- паспортные данные  
- специальность  
- стаж

Информация о пациенте 

- ФИО   
- Дата рождения  
- Полис  
- Дата поступления  
- Дата выписки  
- Диагноз  
- Лечащий врач  
- Отделение  
- Палата 

2. ### Повышение квалификации (1 балл)

Для сотрудников университета организованы курсы по повышению квалификации. Курс ведет также сотрудник университета. Курс характеризуется датой начала, датой окончания, наименованием. Каждый сотрудник университета может посещать несколько курсов. По окончании курса выдается свидетельство.

3. ### Библиотека (2 балла)

Информационная система библиотеки, состоящей из двух филиалов, предназначена для учета книг, передаваемых читателям. Каждый филиал библиотеки имеет адрес (улица, дом) и наименование (минимальный набор атрибутов). При записи в библиотеку читатель предоставляет следующую информацию: ФИО, год рождения и адрес. Экземпляры одной и той же книги могут хранится в любом филиале или в обоих филиалах. Минимальный набор атрибутов книги:

- ISBN  
- наименование;  
- наименование и адрес издательства;  
- тип обложки (мягкая, твердая, суперобложка);  
- год издания;  
- жанр / тип;  
- количество страниц.

Набор остальных типов сущностей и их атрибутов нужно спроектировать самостоятельно, предполагая реализацию в будущем следующих функций:  
**Простые запросы**:

- Список книг в библиотеке (наименование, жанр, год издания)  
- Список филиалов  
- Список читателей

  **Сложные запросы**:

- Читатели, у которых есть книги на руках  
- Книги у конкретного читателя

4. ### Аптека (3 балла)

Информационная система предназначена для учета движения товаров от поставщиков в несколько филиалов аптечной сети, продажи товаров покупателям.  
**Лекарство**

- Наименование  
- Производитель  
- Поставщик  
- Тип  
- Цена (может изменяться)  
- Возможна ли продажа без рецепта

**Покупатель**

- ФИО  
- Телефон

**Поставщик**

- Наименование  
- ИНН  
- Адрес

Набор остальных типов сущностей и их атрибутов нужно спроектировать самостоятельно

5. ### Предприятие (3 балла)

Малое предприятие разрабатывает информационную систему, частью которой является информационная система учета персонала. В информационной системе хранится следующая информация о сотруднике:

- ФИО  
- Дата рождения  
- Образование  
- Образовательное учреждение, год окончания, специальность  
- Стаж работы

А также информация о его назначениях, включая информацию о должности, окладе, номере и дате приказа, по которому он переводится на другую должность, номер отдела. В информационной системе учитываются отпуска сотрудников и больничные листы, с указанием периодов временной нетрудоспособности сотрудников.

6. ### Пиццерия (3 балла)

Сеть пиццерий доставляет пиццы клиентам, которые заказывают их по телефону или через интернет. Имеется ограниченный набор типов пицц. Каждый тип пиццы имеет свой набор продуктов для изготовления и количество. Заказ доставляется курьером по адресу, указанному клиентом.

7. ### Курьерская доставка (4 балла)

Организация осуществляет курьерскую доставку товаров. Филиалы организации – пункты приема и выдачи отправлений – расположены в нескольких городах. Для отправки товара можно самостоятельно прийти в филиал организации и отправить товар, оплатив стоимость доставки, или вызвать курьера, который заберет посылку после оплаты услуг курьера и услуги доставки. Стоимость услуг курьера фиксирована. Стоимость доставки различна для каждой пары городов. Товар может быть доставлен до пункта выдачи или по адресу получателя. Получатель и отправитель могут иметь несколько адресов приема товара для доставки и его получения.

8. ### Научная конференция (4 балла)

В университете организуется научная конференция, по результатам проведения которой публикуется сборник статей. Каждый участник конференции отправляет в адрес конференции статью, которая характеризуется наименованием, списком авторов и количеством листов, а также презентацию, наименование которой и список авторов совпадает с наименованием статьи. Конференция разделена на секции. Заседания секций происходят в разных аудиториях с 9:00 до 17:00 с перерывом с 12:00 до 13:00. На представление доклада выделяется 30 минут.

9. ### Прокат велосипедов (4 балла)

Компания по прокату велосипедов имеет филиалы в нескольких городах. Каждый филиал имеет парк из нескольких сотен велосипедов разных трех марок. Для аренды велосипеда клиенты используют мобильное приложение, привязанное к номеру телефона. В приложении указывается имя клиента и банковская карта или электронный кошелек.   
Для каждого типа велосипеда существует собственная стоимость одного часа аренды, которая также зависит от города, где находится филиал. В информационной системе учитывается продолжительность аренды, стоимость услуги (после возвращения велосипеда).

#### 

10. ### Расписание занятий (5 баллов)

Спроектируйте информационную систему для расписания занятий студентов с преподавателями, на основе следующих фактов:

1. Единицей времени является *пара*. Расписание пар \- фиксированное, одно на всех, и единое в любой день недели  
2. Занятия идут с понедельника по субботу, в воскресенье занятий нет  
3. Занятия бывают двух видов: лекция и семинар  
4. Занятия ведут преподаватели. Преподаватели занимают должности: ассистент, старший преподаватель, доцент, профессор. Семинары может вести любой преподаватель, лекции \- только доцент или профессор  
5. Любое занятие ведёт только один преподаватель  
6. На семинаре может присутствовать только одна группа, на лекции \- любое количество групп  
7. Занятия проходят в аудиториях, которые расположены в различных корпусах

